@page "{PaperNum}"
@model FOSdOrderSubModel
@{
    ViewData["Title"] = "FOS00002 委外出廠單";
    ViewData["TableTitle"] = $"委外出廠單明細（{Model.MasterKey}）";
    ViewData["DictTableName"] = Model.TableName;
    ViewData["AddApiUrl"] = "/api/FOSdOrderMain";
    ViewData["SubRouteTemplate"] = "/FOS/FOSdOrderSub/{PaperNum}";
    ViewData["QueryRedirectUrl"] = Url.Page("/FOS/FOSdOrderMain");
    ViewData["DeleteApiUrl"] = "FOSdOrderMain";
    ViewData["ReportSpName"] = "FOSdOrderPaper_CIR";
    ViewData["ActionRailPartial"] = "~/Pages/Shared/_ActionRail.DynamicButtons.cshtml";
}

<script>
    window._dictTableName = "@(ViewData["DictTableName"] ?? Model.TableName)";
</script>
@await Html.PartialAsync("~/Pages/Shared/_TableDetailPartial.cshtml", Model)

@{
    var extraTabs = ViewData["Tabs"] as dynamic[] ?? Array.Empty<dynamic>();
}

@if (extraTabs.Length > 0)
{
    <div class="container-fluid px-0">
        @await Html.PartialAsync("~/Pages/Shared/_MultiTabDetail.cshtml")
    </div>
}

@await Html.PartialAsync("_FieldDictModal", Model.FieldDictList, ViewData)
<script src="~/js/fieldDictModal.js" asp-append-version="true"></script>
