@page
@model GenericReportPageModel
@{
    Layout = "_Layout";

    // 這支報表只做「設定」，其餘交給共用樣板
    Model.Config = new ReportConfig {
        Title = "CU001022 使用者權限明細表",
        SpName = "dbo.CURd使用者權限明細表",
        DictTableName = "CU001022",
        ReportName = "CURd使用者權限明細表",
        ParamDefs = new List<ParamDef> {
            new() { Name="UserId", Label="使用者代碼", Ui=ParamUiType.Select, LookupKey="user" },
        }
    };

    Model.LoadDict(Model.Config.DictTableName);

    ViewData["ReportConfig"] = Model.Config;
    ViewData["Fields"]       = Model.TableFields;   // 共用樣板畫表頭/表身會用
    ViewData["FieldDictList"]= Model.FieldDictList; // F3 辭典 modal 用（如你有接）
    ViewData["DictTableName"]= Model.Config.DictTableName;
}

@await Html.PartialAsync("~/Pages/Shared/_ReportScaffold.cshtml", Model, ViewData)
