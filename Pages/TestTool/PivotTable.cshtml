@page
@using PcbErpApi.Pages
@model IndexModel
@{
    ViewData["Title"] = "Pivot Table 測試";
}

<h2>交叉分析表（Pivot Table）</h2>

<div id="pivot-table"></div>

<!-- jQuery -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>

<!-- jQuery UI（關鍵） -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>

<!-- PivotTable.js -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pivottable@2.23.0/dist/pivot.min.css">
<script src="https://cdn.jsdelivr.net/npm/pivottable@2.23.0/dist/pivot.min.js"></script>

<script>
    $(function () {
        var salesData = [
            {產品: "蘋果", 地區: "北區", 數量: 10, 價格: 30},
            {產品: "蘋果", 地區: "南區", 數量: 5, 價格: 30},
            {產品: "香蕉", 地區: "北區", 數量: 8, 價格: 15},
            {產品: "橘子", 地區: "中區", 數量: 12, 價格: 20},
            {產品: "芒果", 地區: "南區", 數量: 15, 價格: 25}
        ];

        $("#pivot-table").pivotUI(salesData, {
            rows: ["產品"],
            cols: ["地區"],
            vals: ["數量"],
            aggregatorName: "Sum",
            rendererName: "Table"
        });
    });
</script>
