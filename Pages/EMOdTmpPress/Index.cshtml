@page "/EMOdTmpPress"
@model PcbErpApi.Pages.EMOdTmpPress.IndexModel
@{
    ViewData["Title"] = "EMO00049 壓合疊構";
    Layout = "_Layout";
}

@section Styles {
<style>
    html, body { height: 100%; margin: 0; padding: 0; overflow: hidden; }
    .container-fluid { height: calc(100vh - 30px); display: flex; flex-direction: column; padding: 0.5rem 0.75rem; box-sizing: border-box; }

    .press-main-container {
        display: flex; flex: 1; min-height: 0; gap: 5px; margin-top: 0;
    }

    /* 左側 Master Grid */
    .master-panel {
        flex: 0 0 450px; display: flex; flex-direction: column; min-height: 0;
        border: 1px solid #dee2e6; border-radius: 8px; background: #fff;
        box-shadow: 0 2px 12px 0 #c3d4e6; overflow: hidden;
    }
    .master-panel .table-fix-wrapper {
        flex: 1; overflow-y: auto; overflow-x: auto; white-space: nowrap;
    }
    .master-panel table { table-layout: fixed; border-collapse: collapse; }
    .master-panel thead th {
        position: sticky; top: 0; z-index: 2;
        background: #f8f9fa; border-bottom: 2px solid #dee2e6;
        padding: 6px 10px; font-size: 13px; font-weight: 600;
        white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .master-panel tbody td {
        padding: 4px 10px; font-size: 13px; border-bottom: 1px solid #f0f0f0;
        cursor: pointer; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .master-panel thead th .th-resize {
        position: absolute; right: 0; top: 0; width: 5px; height: 100%;
        cursor: col-resize; user-select: none;
    }
    .master-panel thead th .th-resize:hover { background: #adb5bd; }
    .master-panel tbody tr:hover { background: #f0f8ff; }
    .master-panel tbody tr.selected { background: #e6f2ff; font-weight: 600; }

    /* 中間 TreeView */
    .tree-panel {
        flex: 0 0 180px; display: flex; flex-direction: column; min-height: 0;
        border: 1px solid #dee2e6; border-radius: 8px; background: #fff;
        box-shadow: 0 2px 12px 0 #c3d4e6; overflow: hidden;
    }
    .tree-panel-header {
        padding: 6px 10px; background: #f8f9fa; border-bottom: 1px solid #dee2e6;
        font-size: 13px; font-weight: 600;
    }
    .tree-container {
        flex: 1; overflow: auto; padding: 8px; min-height: 0;
    }
    .tree-node-item {
        padding: 5px 8px; margin: 2px 0; cursor: pointer; border-radius: 4px;
        font-size: 13px; user-select: none; display: flex; align-items: center; gap: 4px;
    }
    .tree-node-item:hover { background: #f0f8ff; }
    .tree-node-item.selected { background: #e6f2ff; border-left: 3px solid #2564b3; }
    .tree-children { margin-left: 20px; }
    .tree-toggle {
        display: inline-flex; align-items: center; justify-content: center;
        width: 16px; height: 16px; cursor: pointer; flex-shrink: 0;
        border: none; background: none; padding: 0;
    }
    .tree-toggle::before {
        content: ''; display: block; width: 0; height: 0;
        border-top: 5px solid transparent; border-bottom: 5px solid transparent;
        border-left: 7px solid #555; transition: transform 0.15s;
    }
    .tree-toggle.expanded::before { transform: rotate(90deg); }
    .tree-toggle:hover::before { border-left-color: #222; }
    .tree-node-icon { flex-shrink: 0; width: 18px; text-align: center; }

    /* 右側 Detail Grid */
    .detail-panel {
        flex: 1; display: flex; flex-direction: column; min-height: 0;
        border: 1px solid #dee2e6; border-radius: 8px; background: #fff;
        box-shadow: 0 2px 12px 0 #c3d4e6; overflow: hidden;
    }
    .detail-panel-header {
        padding: 6px 10px; background: #f8f9fa; border-bottom: 1px solid #dee2e6;
        font-size: 13px; font-weight: 600; display: flex; align-items: center; gap: 8px;
    }
    .detail-panel .table-fix-wrapper {
        flex: 1; overflow-y: auto; overflow-x: auto; white-space: nowrap;
    }
    .detail-panel table { table-layout: fixed; border-collapse: collapse; }
    .detail-panel thead th {
        position: sticky; top: 0; z-index: 2;
        background: #f8f9fa; border-bottom: 2px solid #dee2e6;
        padding: 6px 10px; font-size: 13px; font-weight: 600;
        white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .detail-panel tbody td {
        padding: 4px 10px; font-size: 13px; border-bottom: 1px solid #f0f0f0;
        white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .detail-panel thead th .th-resize {
        position: absolute; right: 0; top: 0; width: 5px; height: 100%;
        cursor: col-resize; user-select: none;
    }
    .detail-panel thead th .th-resize:hover { background: #adb5bd; }
    .detail-panel tbody tr:hover { background: #f0f8ff; }
    .detail-panel tbody tr.selected { background: #e6f2ff; }

    /* Splitter */
    .v-splitter {
        width: 5px; cursor: col-resize; background: #e9ecef; flex-shrink: 0;
        border-radius: 2px; transition: background 0.2s;
    }
    .v-splitter:hover { background: #adb5bd; }

    /* Toolbar */
    .press-toolbar {
        display: flex; align-items: center; gap: 6px; padding: 6px 10px;
        background: #f8f9fa; border-bottom: 1px solid #dee2e6; flex-shrink: 0;
        flex-wrap: wrap; overflow: hidden;
    }
    .toolbar-btn {
        display: inline-flex; align-items: center; gap: 4px;
        padding: 4px 12px; border: 1px solid #ced4da; border-radius: 4px;
        background: #fff; font-size: 13px; cursor: pointer; transition: all 0.15s;
        white-space: nowrap;
    }
    .toolbar-btn:hover { background: #e9ecef; border-color: #adb5bd; }
    .toolbar-btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .toolbar-btn.primary { background: #0d6efd; color: #fff; border-color: #0d6efd; }
    .toolbar-btn.primary:hover { background: #0b5ed7; }
    .toolbar-btn.success { background: #198754; color: #fff; border-color: #198754; }
    .toolbar-btn.success:hover { background: #157347; }
    .toolbar-btn.danger { background: #dc3545; color: #fff; border-color: #dc3545; }
    .toolbar-btn.danger:hover { background: #bb2d3b; }
    .toolbar-btn.active { background: #fff3cd; color: #856404; border-color: #ffc107; }
    .toolbar-btn.active:hover { background: #ffe69c; }
    .mode-status-box {
        display: inline-flex; align-items: center; gap: 6px;
        padding: 4px 12px; border-radius: 4px; font-size: 13px; font-weight: 600;
        border: 2px solid #0d6efd; background: #0d6efd; color: #fff;
        min-width: 110px; justify-content: center; white-space: nowrap;
    }
    .mode-status-box.edit-mode { border-color: #ffc107; background: #ffc107; color: #856404; }
    .mode-status-count { font-size: 12px; font-weight: 400; opacity: 0.85; }
    .press-toolbar .toolbar-sep { width: 1px; height: 24px; background: #ced4da; }
    .press-toolbar .toolbar-label { font-size: 13px; color: #666; }
    .press-toolbar input[type="text"] {
        padding: 3px 8px; border: 1px solid #ced4da; border-radius: 4px;
        font-size: 13px; width: 120px;
    }

    /* Bottom bar */
    .master-bottom-bar {
        display: flex; align-items: center; gap: 6px;
        padding: 6px 10px; background: #f8f9fa;
        border-top: 1px solid #dee2e6; flex-shrink: 0;
        overflow: hidden;
    }
    .master-bottom-bar .approval-status { font-size: 12px; color: #666; }
    .master-bottom-bar .record-count { font-size: 12px; color: #666; margin-left: auto; }
    .detail-bottom-bar {
        display: flex; align-items: center; gap: 6px;
        padding: 4px 10px; background: #f8f9fa;
        border-top: 1px solid #dee2e6; flex-shrink: 0;
    }
    .detail-bottom-bar .record-count { font-size: 12px; color: #666; margin-left: auto; }

    /* 壓合材料設定 Dialog (Modal) */
    .pressset-modal .modal-dialog { max-width: 90vw; width: 860px; }
    .pressset-modal .modal-body { padding: 0; display: flex; flex-direction: column; max-height: 70vh; overflow: hidden; }
    .pressset-toolbar {
        display: flex; align-items: center; gap: 8px; padding: 8px 12px;
        background: #f8f9fa; border-bottom: 1px solid #dee2e6;
    }
    .pressset-toolbar label { font-size: 13px; font-weight: 600; margin: 0; }

    /* Multi-Select 雙列表 */
    .multi-select-container {
        display: flex; flex: 1; min-height: 0; gap: 0;
    }
    .ms-list-panel {
        flex: 1; display: flex; flex-direction: column; min-height: 0;
        border: 1px solid #dee2e6;
    }
    .ms-list-header {
        padding: 6px 10px; background: #e9ecef; font-size: 13px; font-weight: 600;
        border-bottom: 1px solid #dee2e6;
    }
    .ms-list-body {
        flex: 1; overflow: auto;
    }
    .ms-list-body table { width: 100%; border-collapse: collapse; }
    .ms-list-body thead th {
        position: sticky; top: 0; z-index: 2;
        background: #f8f9fa; border-bottom: 1px solid #dee2e6;
        padding: 4px 8px; font-size: 12px; font-weight: 600;
    }
    .ms-list-body tbody td {
        padding: 3px 8px; font-size: 12px; border-bottom: 1px solid #f0f0f0;
        cursor: pointer;
    }
    .ms-list-body tbody tr:hover { background: #f0f8ff; }
    .ms-list-body tbody tr.selected { background: #cfe2ff; }
    .ms-buttons {
        display: flex; flex-direction: column; justify-content: center;
        gap: 6px; padding: 0 8px;
    }
    .ms-buttons button {
        padding: 4px 12px; border: 1px solid #ced4da; border-radius: 4px;
        background: #fff; font-size: 18px; cursor: pointer; line-height: 1;
    }
    .ms-buttons button:hover { background: #e9ecef; }

    /* BOM 選擇 Dialog */
    .bomselect-modal .modal-dialog { max-width: 80vw; width: 600px; }
    .bomselect-modal .modal-body { padding: 0; display: flex; min-height: 0; max-height: 70vh; overflow: hidden; }
    .bomselect-left {
        flex: 0 0 280px; display: flex; flex-direction: column; border-right: 1px solid #dee2e6;
    }
    .bomselect-left .table-fix-wrapper { flex: 1; overflow: auto; }
    .bomselect-left table { width: 100%; border-collapse: collapse; table-layout: fixed; }
    .bomselect-left thead th {
        position: sticky; top: 0; z-index: 2;
        background: #f8f9fa; border-bottom: 1px solid #dee2e6;
        padding: 4px 8px; font-size: 12px; font-weight: 600;
    }
    .bomselect-left tbody td {
        padding: 3px 8px; font-size: 12px; border-bottom: 1px solid #f0f0f0;
        cursor: pointer; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .bomselect-left tbody tr:hover { background: #f0f8ff; }
    .bomselect-left tbody tr.selected { background: #cfe2ff; }
    .bomselect-right {
        flex: 1; display: flex; flex-direction: column;
    }
    .bomselect-right .tree-container { flex: 1; overflow: auto; padding: 8px; }

    /* Query Tab */
    .query-panel {
        padding: 10px; display: none;
    }
    .query-panel.active { display: block; }
    .query-row { margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
    .query-row label { width: 80px; font-size: 13px; text-align: left; flex-shrink: 0; }
    .query-row input, .query-row select {
        flex: 1; padding: 3px 8px; border: 1px solid #ced4da; border-radius: 4px; font-size: 13px;
    }

    /* Scrollbar */
    .tree-container::-webkit-scrollbar,
    .master-panel .table-fix-wrapper::-webkit-scrollbar,
    .detail-panel .table-fix-wrapper::-webkit-scrollbar,
    .ms-list-body::-webkit-scrollbar { width: 8px; height: 8px; }
    .tree-container::-webkit-scrollbar-track,
    .master-panel .table-fix-wrapper::-webkit-scrollbar-track,
    .detail-panel .table-fix-wrapper::-webkit-scrollbar-track,
    .ms-list-body::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
    .tree-container::-webkit-scrollbar-thumb,
    .master-panel .table-fix-wrapper::-webkit-scrollbar-thumb,
    .detail-panel .table-fix-wrapper::-webkit-scrollbar-thumb,
    .ms-list-body::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
</style>
}

<div class="container-fluid">
    <!-- Toolbar -->
    <div class="press-toolbar">
        <div class="mode-status-box" id="modeStatusBox">
            <span id="modeStatusLabel">瀏覽模式</span>
            <span class="mode-status-count" id="modeStatusCount">0 / 0</span>
        </div>
        <button class="toolbar-btn" id="btnModeToggle" title="切換至編輯模式">修改</button>
        <div class="toolbar-sep"></div>
        <button class="toolbar-btn" id="btnAddRow" title="新增範本" disabled><i class="bi bi-plus-lg"></i></button>
        <button class="toolbar-btn" id="btnDelRow" title="刪除範本" disabled><i class="bi bi-dash-lg"></i></button>
        <div class="toolbar-sep" id="sepAddDel"></div>
        <button class="toolbar-btn primary" id="btnChange" title="異動壓合材料"><i class="bi bi-gear"></i> 異動</button>
        <button class="toolbar-btn" id="btnChangeRoute" title="變更組合模型"><i class="bi bi-diagram-3"></i> 組合模型</button>
        <div class="toolbar-sep"></div>
        <button class="toolbar-btn success" id="btnSaveAs" title="複製範本"><i class="bi bi-files"></i> 複製</button>
        <span class="toolbar-label">另存代碼:</span>
        <input type="text" id="edtTmpIdNew" placeholder="輸入新代碼" maxlength="12" />
        <div class="toolbar-sep"></div>
        <button class="toolbar-btn" id="btnQuery" title="條件查詢"><i class="bi bi-search"></i> 查詢</button>
        <span class="toolbar-label" id="recordCountMas" style="margin-left:auto;">0 / 0</span>
    </div>

    <!-- Main content: Master + Tree + Detail -->
    <div class="press-main-container">
        <!-- 左側: Master Grid (壓合模板列表) -->
        <div class="master-panel" id="masterPanel">
            <div class="table-fix-wrapper">
                <table id="masterGrid">
                    <thead><tr id="masterHead"></tr></thead>
                    <tbody id="masterBody"></tbody>
                </table>
            </div>
            <div class="master-bottom-bar">
                <button class="toolbar-btn success" id="btnApprove" title="送審"><i class="bi bi-check-circle"></i> 送審</button>
                <button class="toolbar-btn danger" id="btnReject" title="退審"><i class="bi bi-x-circle"></i> 退審</button>
                <button class="toolbar-btn" id="btnSaveLayout" title="儲存欄寬">儲存欄寬</button>
                <span class="approval-status" id="approvalStatus"></span>
                <span class="record-count" id="masterRecordCount">0 / 0</span>
            </div>
        </div>

        <!-- Vertical Splitter 1 -->
        <div class="v-splitter" id="vSplitter1"></div>

        <!-- 中間: TreeView (BOM 疊構) -->
        <div class="tree-panel" id="treePanel">
            <div class="tree-panel-header">疊構層別</div>
            <div class="tree-container" id="treeContainer">
                <div style="color:#999; padding:20px; text-align:center;">請選擇左側範本</div>
            </div>
        </div>

        <!-- Vertical Splitter 2 -->
        <div class="v-splitter" id="vSplitter2"></div>

        <!-- 右側: Detail Grid (壓合明細) -->
        <div class="detail-panel" id="detailPanel">
            <div class="detail-panel-header">
                <span>壓合明細</span>
                <span id="detailLayerLabel" style="color:#0d6efd;"></span>
            </div>
            <div class="table-fix-wrapper">
                <table id="detailGrid">
                    <thead><tr id="detailHead"></tr></thead>
                    <tbody id="detailBody"></tbody>
                </table>
            </div>
            <div class="detail-bottom-bar">
                <span class="record-count" id="detailRecordCount">0 / 0</span>
            </div>
        </div>
    </div>
</div>

<!-- 壓合材料設定 Modal (對應 Delphi TdlgTmpPressSet) -->
<div class="modal fade pressset-modal" id="pressSetModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header py-2">
                <h6 class="modal-title"><i class="bi bi-layers"></i> 壓合材料設定</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <!-- Toolbar -->
                <div class="pressset-toolbar">
                    <label>層　別:</label>
                    <span id="pressSetLayerLabel" style="font-size:13px; color:#0d6efd;"></span>
                    <div style="flex:1"></div>
                    <button class="toolbar-btn" id="btnMsUp" title="上移"><i class="bi bi-arrow-up"></i> 上移</button>
                    <button class="toolbar-btn" id="btnMsDown" title="下移"><i class="bi bi-arrow-down"></i> 下移</button>
                    <button class="toolbar-btn" id="btnMsChgName" title="替換"><i class="bi bi-arrow-left-right"></i> 替換</button>
                </div>
                <!-- Multi-Select 雙列表 -->
                <div class="multi-select-container">
                    <!-- 可用物料種類 (Source) -->
                    <div class="ms-list-panel">
                        <div class="ms-list-header">可用物料種類</div>
                        <div class="ms-list-body" id="msSourceBody">
                            <table>
                                <thead><tr><th>類別名稱</th><th>內層</th><th>類別</th><th>內層名稱</th></tr></thead>
                                <tbody id="msSourceList"></tbody>
                            </table>
                        </div>
                    </div>
                    <!-- 操作按鈕 -->
                    <div class="ms-buttons">
                        <button id="btnMsAdd" title="加入">&gt;</button>
                        <button id="btnMsRemove" title="移除">&lt;</button>
                        <button id="btnMsAddAll" title="全部加入">&gt;&gt;</button>
                        <button id="btnMsRemoveAll" title="全部移除">&lt;&lt;</button>
                    </div>
                    <!-- 已選物料種類 (Target) -->
                    <div class="ms-list-panel">
                        <div class="ms-list-header">已選物料種類</div>
                        <div class="ms-list-body" id="msTargetBody">
                            <table>
                                <thead><tr><th>物料名稱</th><th>內層</th><th>類別</th><th>內層名稱</th></tr></thead>
                                <tbody id="msTargetList"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer py-2">
                <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary btn-sm" id="btnPressSetOk">確定</button>
            </div>
        </div>
    </div>
</div>

<!-- BOM 選擇 Modal (對應 Delphi TdlgTmpBOMSelect) -->
<div class="modal fade bomselect-modal" id="bomSelectModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header py-2">
                <h6 class="modal-title"><i class="bi bi-diagram-3"></i> 品號組合模型選擇</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="bomselect-left">
                    <!-- Tab: 列表/查詢 -->
                    <ul class="nav nav-tabs" style="font-size:12px;">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" id="tabBomList" data-tab="bomList">組合模型</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="tabBomQuery" data-tab="bomQuery">條件查詢</a>
                        </li>
                    </ul>
                    <!-- 列表 Tab -->
                    <div class="table-fix-wrapper" id="bomListTab">
                        <table>
                            <thead><tr id="bomSelectHead"></tr></thead>
                            <tbody id="bomSelectBody"></tbody>
                        </table>
                    </div>
                    <!-- 查詢 Tab -->
                    <div class="query-panel" id="bomQueryTab">
                        <div class="query-row">
                            <label>模板代碼:</label>
                            <input type="text" id="bomQueryTmpId" />
                        </div>
                        <div class="query-row">
                            <label>備　　註:</label>
                            <input type="text" id="bomQueryNotes" />
                        </div>
                        <div class="query-row">
                            <label>狀　　態:</label>
                            <select id="bomQueryStatus">
                                <option value="">全部</option>
                                <option value="0">設計中</option>
                                <option value="1">已審核</option>
                            </select>
                        </div>
                        <div style="text-align:center; margin-top:10px;">
                            <button class="toolbar-btn primary" id="btnBomSearch">確定</button>
                        </div>
                    </div>
                </div>
                <div class="bomselect-right">
                    <div class="tree-panel-header">BOM 疊構</div>
                    <div class="tree-container" id="bomTreeContainer">
                        <div style="color:#999; padding:20px; text-align:center;">請選擇左側組合模型</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer py-2">
                <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary btn-sm" id="btnBomSelectOk">確定</button>
            </div>
        </div>
    </div>
</div>

<!-- 查詢條件 (自訂 overlay，不使用 Bootstrap Modal 避免 overflow 補償造成畫面跳動) -->
<div id="queryOverlay" style="display:none; position:fixed; inset:0; z-index:2050; background:rgba(0,0,0,0.45);">
    <div id="queryDialog" style="
        position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
        background:#fff; border-radius:8px; border:2px solid #5a7ba8;
        box-shadow:0 4px 24px rgba(0,0,0,0.2); width:300px; font-size:13px;">
        <div style="display:flex; align-items:center; justify-content:space-between;
                    padding:8px 14px; border-bottom:1px solid #dee2e6; background:#f8f9fa; border-radius:6px 6px 0 0;">
            <span style="font-weight:600;"><i class="bi bi-search"></i> 條件查詢</span>
            <button id="btnQueryClose" type="button" style="background:none; border:none; font-size:16px; cursor:pointer; color:#666; padding:0 4px; line-height:1;">&times;</button>
        </div>
        <div style="padding:14px 16px 8px;">
            <div class="query-row"><label>壓合代碼:</label><input type="text" id="qryTmpId" /></div>
            <div class="query-row"><label>備　　註:</label><input type="text" id="qryNotes" /></div>
            <div class="query-row"><label>狀　　態:</label>
                <select id="qryStatus">
                    <option value="">全部</option><option value="0">設計中</option><option value="1">已審核</option>
                </select>
            </div>
        </div>
        <div style="display:flex; justify-content:flex-end; gap:8px; padding:8px 14px; border-top:1px solid #dee2e6;">
            <button type="button" class="btn btn-secondary btn-sm" id="btnQueryCancel">取消</button>
            <button type="button" class="btn btn-primary btn-sm" id="btnQueryOk">確定</button>
        </div>
    </div>
</div>

<!-- 新增壓合疊構 Modal -->
<div class="modal fade" id="addMasterModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" style="max-width:380px;">
        <div class="modal-content">
            <div class="modal-header py-2">
                <h6 class="modal-title"><i class="bi bi-plus-circle"></i> 新增壓合疊構</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label fw-semibold" style="font-size:13px;">壓合代碼 <span class="text-danger">*</span></label>
                    <input type="text" id="addTmpId" class="form-control form-control-sm" maxlength="12" placeholder="最多 12 碼" autocomplete="off" />
                </div>
                <div class="mb-1">
                    <label class="form-label fw-semibold" style="font-size:13px;">備註</label>
                    <input type="text" id="addTmpNotes" class="form-control form-control-sm" maxlength="100" placeholder="選填" autocomplete="off" />
                </div>
            </div>
            <div class="modal-footer py-2">
                <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary btn-sm" id="btnAddMasterOk">確定新增</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
<script src="~/js/EMOdTmpPress.js" asp-append-version="true"></script>
}
