@page
@using WebRazor.Models
@model PcbErpApi.Pages.AJN.AJNdSysSummaryModel

@{
    ViewData["Title"] = Model.PageTitle;
    ViewData["DictTableName"] = Model.TableName;
    var config = ViewData["Config"] as MasterMultiDetailConfig;
    if (config == null)
    {
        <div class="alert alert-danger">配置錯誤：找不到 MasterMultiDetailConfig</div>
        return;
    }
}

<script>window._dictTableName = "@(ViewData["DictTableName"] ?? Model.TableName)";</script>

<!-- 套用 MasterMultiDetail 模板（垂直堆疊佈局） -->
@await Html.PartialAsync("_MasterMultiDetailTemplate", config)
@await Html.PartialAsync("_FieldDictModal", Model.FieldDictList, ViewData)
<script src="~/js/fieldDictModal.js"></script>