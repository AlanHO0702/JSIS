@page "/CUR/MasterMultiDetail/{itemId}"
@using WebRazor.Models
@model PcbErpApi.Pages.CUR.MasterMultiDetailModel
@{
    Layout = "_Layout";
    var cfg = Model.Config;
    ViewData["Title"] = string.IsNullOrWhiteSpace(Model.ItemName) ? Model.ItemId : $"{Model.ItemId}{Model.ItemName}";
}

@if (!string.IsNullOrWhiteSpace(Model.LoadError))
{
    <div class="alert alert-warning mt-3">@Model.LoadError</div>
}

@if (cfg == null)
{
    <div class="alert alert-warning mt-3">找不到 Master/Multi-Detail 設定資料。</div>
}
else
{
    @await Html.PartialAsync("_MasterMultiDetailTemplate", cfg)
}

@await Html.PartialAsync("~/Pages/Shared/_FieldDictModal.cshtml", null, ViewData)
<script src="~/js/fieldDictModal.js" asp-append-version="true"></script>
